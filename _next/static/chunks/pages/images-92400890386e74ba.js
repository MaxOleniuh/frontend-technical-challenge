(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{3665:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images",function(){return s(1185)}])},1185:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var l=s(5893),a=s(7294),n=s(1664),r=s.n(n),i=e=>{let{onClose:t}=e,[s,n]=(0,a.useState)(!0);return(0,l.jsx)(l.Fragment,{children:s&&(0,l.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center",children:[(0,l.jsx)("div",{className:"bg-gray-900 opacity-75 absolute inset-0"}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-10 text-center z-10",children:[(0,l.jsx)("h2",{className:"text-3xl font-black mb-4 text-slate-600",children:"Prediction Details"}),(0,l.jsx)("input",{id:"title",type:"text",placeholder:"Title",className:"border border-gray-300 rounded-lg py-2 px-3 mb-4 w-full"}),(0,l.jsx)("input",{id:"description",type:"text",placeholder:"Description",className:"border border-gray-300 rounded-lg py-2 px-3 mb-4 w-full"}),(0,l.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>{n(!1),t();let e=document.getElementById("title").value,s=document.getElementById("description").value;fetch("/api/predictions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:s})}).then(e=>e.json()).then(t=>{console.log("API response:",t);let l={title:e,description:s,prediction:response.prediction};setPredictions([...predictions,l]),n(!1)}).catch(e=>{console.error("API error:",e)})},type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded-lg mr-2",children:"Submit"}),(0,l.jsx)("button",{onClick:()=>{n(!1),t()},type:"button",className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg",children:"Cancel"})]})]})]})})},c=()=>{let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),[d,p]=(0,a.useState)(null),[m,u]=(0,a.useState)([]),[x,g]=(0,a.useState)(!1),b=new Date(c),h=b.getFullYear(),y=b.getMonth()+1,f=b.getDate(),j=b.getHours(),N=b.getMinutes(),S=b.getSeconds(),w="".concat(h,"-").concat(y,"-").concat(f," ").concat(j,":").concat(N,":").concat(S);(0,a.useEffect)(()=>{let e=localStorage.getItem("uploadedImages");e&&u(JSON.parse(e))},[]),(0,a.useEffect)(()=>{localStorage.setItem("uploadedImages",JSON.stringify(m))},[m]);let I=e=>e?e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(2)," KB"):"".concat((e/1048576).toFixed(2)," MB"):"",_=()=>{g(!0)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("form",{className:"flex-col gap-3 mb-4",children:[(0,l.jsx)("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:e=>{let s=e.target.files[0],l=s.size,a=s.lastModified;if(s){t(s),n(l),o(a);let e={name:s.name,size:s.size,type:s.type,lastModified:s.lastModified};p(e),localStorage.setItem("selectedImageMetadata",JSON.stringify(e)),u(t=>[...t,e])}else t(null),p(null),localStorage.removeItem("selectedImageMetadata")},className:" text-slate-700"}),(0,l.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"text-center",children:[(0,l.jsx)("th",{className:"px-4 py-2 bg-gray-200 border-b font-semibold",children:"Image Filename"}),(0,l.jsx)("th",{className:"px-4 py-2 bg-gray-200 border-b font-semibold",children:"Size"}),(0,l.jsx)("th",{className:"px-4 py-2 bg-gray-200 border-b font-semibold",children:"Upload Time"}),(0,l.jsx)("th",{className:"px-4 py-2 bg-gray-200 border-b font-semibold",children:"Prediction"})]})}),(0,l.jsx)("tbody",{children:m.map((t,s)=>(0,l.jsxs)("tr",{className:s%2==0?"bg-gray-100 text-center":"text-center",style:{animation:e&&s===m.length-1?"fade-in 0.5s":"none"},children:[(0,l.jsx)("td",{className:"px-4 py-2 border-b",children:t.name}),(0,l.jsx)("td",{className:"px-4 py-2 border-b",children:I(t.size)}),(0,l.jsx)("td",{className:"px-4 py-2 border-b",children:w}),(0,l.jsx)("td",{className:"px-4 py-2 border-b",children:(0,l.jsx)("button",{onClick:_,type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded-lg mr-2",children:"PREDICT"})})]},s))})]})]}),(0,l.jsx)(r(),{href:"/",className:"text-red-800 text-2xl font-semibold p-1",children:"Back"}),x&&(0,l.jsx)(i,{onClose:()=>g(!1)})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=3665)}),_N_E=e.O()}]);